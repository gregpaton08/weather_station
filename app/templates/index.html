<!DOCTYPE html>
<html>
<head>
    <title>Weather</title>
    <link href="/static/css/index.css" rel="stylesheet">
</head>
<body>
    <script type=text/javascript src="{{ url_for('static', filename='jquery.js') }}"></script>
    <script type=text/javascript>
        function updateTemperature() {
            $SCRIPT_ROOT = ''
            $.getJSON($SCRIPT_ROOT + '/get_inside_temperature', {}, function(data) {
                $("#insidetemp").text(data.temperature);
            });
            $.getJSON($SCRIPT_ROOT + '/get_outside_temperature', {}, function(data) {
                $("#outsidetemp").text(data.temperature);
            });
        }
        $(function() {
            setInterval(updateTemperature, 60000);
        });
    </script>
    <div class="center">
        <p>Inside <span id="insidetemp">{{ inside_temperature|int }}</span>&deg;</p>
        <p>Outside <span id="outsidetemp">{{ outside_temperature|int }}</span>&deg;
        {% if condition == "overcast" %}
        <img src="/static/overcast.png" height="64" width="64">
        {% elif condition == "fog" %}
        <img src="/static/fog.png" height="64" width="64">
        {% elif condition == "clear" %}
        <img src="/static/moon.png" height="64" width="64">
        {% else %}
        and {{ condition }}
        {% endif %}
        </p>
    </div>
    <div class="forecast">
        <table>
            <tr>
            {% for hour in hourly %}
                <td>
                    <div class="time">
                        {% if hour.FCTTIME.hour|int == 0 %}
                            12 am
                        {% elif hour.FCTTIME.hour|int > 12 %}
                            {{ hour.FCTTIME.hour|int - 12 }} pm
                        {% elif hour.FCTTIME.hour|int == 12 %}
                            {{ hour.FCTTIME.hour|int }} pm
                        {% else %}
                            {{ hour.FCTTIME.hour }} am
                        {% endif %}
                    </div>
                    <div class="temperature">
                        {{ hour.temp.english }}&deg;
                    </div>
<!--                     <div class="condition">
                        {{ hour.condition }}
                    </div> -->
                </td>
            {% endfor %}
            </tr>
    </table>
    </div>
</body>
</html>