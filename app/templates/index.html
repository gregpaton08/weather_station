<!DOCTYPE html>
<html>
<head>
    <title>Weather</title>
    <link href="/static/css/index.css" rel="stylesheet">
</head>
<body>
    <script type=text/javascript src="{{ url_for('static', filename='jquery.js') }}"></script>
    <script type=text/javascript>
        function updateData() {
            $SCRIPT_ROOT = ''
            $.getJSON($SCRIPT_ROOT + '/get_inside_temperature', {}, function(data) {
                $("#insidetemp").text(data.temperature);
            });
            $.getJSON($SCRIPT_ROOT + '/get_outside_temperature', {}, function(data) {
                $("#outsidetemp").text(data.temperature);
            });
            $.getJSON($SCRIPT_ROOT + '/get_hourly_forecast', {}, function(data) {
                $html = ''
                $.each(data.forecast, function(index, value) {
                    $html += index + ' '
                    $.each(value, function(index, value) {
                        $html += index + ' ' value + ' '
                        
                    });
                });
                $("#hourly_forecast").html($html).show();
            });
        }
        $(function() {
            setInterval(updateData, 5000);
        });
    </script>
    <div class="center">
        <span class="intemp">
            <!-- <img src="static/home.png" height="50" width="50"> -->
            <span id="insidetemp">{{ inside_temperature|int }}</span>&deg;
        </span>
        <span class="outtemp">
            <span id="outsidetemp">{{ outside_temperature|int }}</span>&deg;
<!--             {% if condition == "overcast" %}
            <img src="/static/overcast.png" height="64" width="64">
            {% elif condition == "fog" %}
            <img src="/static/fog.png" height="64" width="64">
            {% elif condition == "clear" %}
            <img src="/static/moon.png" height="64" width="64">
            {% else %}
            and {{ condition }}
            {% endif %} -->
        </span>
        <br/>
    </div>
    <div id="hourly_forecast">
        <table>
            <tr>
            {% for hour in hourly %}
                <td>
                    <div class="time">
                        {% if hour.FCTTIME.hour|int == 0 %}
                            12 am
                        {% elif hour.FCTTIME.hour|int > 12 %}
                            {{ hour.FCTTIME.hour|int - 12 }} pm
                        {% elif hour.FCTTIME.hour|int == 12 %}
                            {{ hour.FCTTIME.hour|int }} pm
                        {% else %}
                            {{ hour.FCTTIME.hour }} am
                        {% endif %}
                    </div>
                    <div class="temperature">
                        {{ hour.temp.english }}&deg;
                    </div>
<!--                     <div class="condition">
                        {{ hour.condition }}
                    </div> -->
                </td>
            {% endfor %}
            </tr>
    </table>
    </div>
</body>
</html>